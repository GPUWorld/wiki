<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>

<!--
<link rel="Stylesheet" type="text/css" href="style.css">
-->
<link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
<link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<title>PracticalVim-Tip90</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<header>
<div class="inner">
<h1><a href="http://yszheda.github.io/wiki/">Wiki</a></h1>
<h2>by yszheda</h2>
<a href="https://github.com/yszheda/wiki" class="button"><small>View project on</small>GitHub</a>
</div>
</header>

<div id="content-wrapper">
<div class="inner clearfix">
<section id="main-content">

<h1 id="toc_1">Tip 90: Reuse the Last Search Pattern</h1>
<p>
<a href="PracticalVim.html">Return to the top: &lt;&lt;Practical Vim&gt;&gt;</a>
</p>

<ul>
<li>
Leaving the search field of the substitute command blank instructs Vim to reuse the most recent search pattern.

<li>
→ Decouple composing a pattern and devising a suitable replacement string.

</ul>

<p>
Example:
</p>
<pre>
:%s/\v'(([^']|'\w)+)'/“\1”/g
</pre>
<p>
equivalent to:
</p>
<pre>
/\v'(([^']|'\w)+)'
:%s//“\1”/g
</pre>

<h2 id="toc_1.1">It’s Not Always Appropriate</h2>
<p>
Example:
join every line of a file by replacing newlines with commas:
</p>
<pre>
:%s/\n/,
</pre>

<h2 id="toc_1.2">Implications for Command History</h2>
<ul>
<li>
Patterns are saved in Vim’s search history, while substitute commands are saved in the history of Ex commands

<li>
→ Decoupling the search and replacement tasks causes the two pieces of information to be placed in separate silos, which could cause difficulty if you want to reuse an old substitute command later.

</ul>
<h3 id="toc_1.2.1">References:</h3>
<pre>
# If you open the file in vim,
# then you can \"ayy@a the next line to execute the vim command: 
:h cmdline-history
</pre>
<ul>
<li>
Solution: pressing <code>&lt;C-r&gt;/</code> at the command line pastes the contents of the last search register in place. 

</ul>

<p>
Example:
</p>
<pre>
:%s/&lt;C-r&gt;//“\1”/g
</pre>

</section>
<aside id="sidebar">
<p>Wiki maintained by <a href="https://github.com/yszheda">yszheda</a></p>
<p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
</aside>
</div>
</div>
</body>
</html>
